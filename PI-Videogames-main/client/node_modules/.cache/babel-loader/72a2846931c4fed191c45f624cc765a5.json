{"ast":null,"code":"var _jsxFileName = \"/Users/consudc/Documents/GitHub/PI VIDEOGAMES/PI-Videogames-main/client/src/components/VideogameCreate.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { NavLink } from \"react-router-dom\";\nimport styles from \"../components/VideogameCreate.module.css\";\nimport { createVideogames, getGenres, getPlatforms } from '../actions';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst divStyle = {\n  backgroundImage: `url(\"https://img.freepik.com/vector-gratis/fondo-transparente-videojuegos_6997-1230.jpg?w=2000\")`,\n  backgroundSize: \"cover\",\n  position: \"fixed\",\n  backgroundPosition: \"100% 100%\",\n  width: \"100vw\",\n  height: \"100vh\"\n};\n\nfunction VideogameCreate() {\n  _s();\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const allGenres = useSelector(state => state.genres);\n  const allPlatforms = useSelector(state => state.platforms);\n  const [errors, setErrors] = useState({});\n  const [input, setInput] = useState({\n    name: \"\",\n    description: \"\",\n    image: \"\",\n    rating: 1,\n    released: \"\",\n    genres: [],\n    platforms: []\n  });\n  console.log(input);\n  useEffect(() => {\n    dispatch(getGenres());\n  }, [dispatch]);\n  useEffect(() => {\n    dispatch(getPlatforms());\n  }, [dispatch]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    dispatch(createVideogames(input));\n    alert(\"PERSONAJE CREADO CON EXITO\");\n    setInput({\n      name: \"\",\n      description: \"\",\n      image: \"\",\n      rating: 1,\n      released: \"\",\n      genres: [],\n      platforms: []\n    });\n    setErrors({});\n    history.push(\"/home\"); //para que vuelva a la pagina anterior\n  }\n\n  function handleChange(e) {\n    e.preventDefault(); //e.target.value = e.target.name\n\n    setInput({ ...input,\n      [e.target.name]: e.target.value\n    });\n    setErrors(validate({ ...input,\n      [e.target.name]: e.target.value\n    }));\n  }\n\n  function handleSelectGenre(e) {\n    setInput({ ...input,\n      genres: [...input.genres, e.target.value]\n    });\n  }\n\n  function handleSelectPlatform(e) {\n    setInput({ ...input,\n      platforms: [...input.platforms, e.target.value]\n    });\n  } // function handleDelete(el){\n  //   el.preventDefault()\n  //   setInput({\n  //     ...input,\n  //     genres : input.genres.filter((t) => t.el !== el)\n  //   })\n  // }\n  // const handleonClose =(id) =>{\n  //   setCities(oldCities => oldCities.filter((ciudad)=> ciudad.id !== id ))\n  // }\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: divStyle,\n    children: [/*#__PURE__*/_jsxDEV(NavLink, {\n      to: \"/home\",\n      exact: true,\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.btn,\n        children: \"HOME\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: styles.h1,\n      children: \" CREA TU VIDEOJUEGO\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: styles.form,\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Nombre: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: errors.name && styles.danger,\n          type: \"text\",\n          name: \"name\",\n          value: input.name,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 1\n        }, this), !errors.name ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.error,\n          children: errors.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \" Descripci\\xF3n: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: errors.description && styles.danger,\n          type: \"text\",\n          name: \"description\",\n          value: input.description,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 3\n        }, this), !errors.description ? null : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.error,\n          children: errors.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 34\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Fecha de lanzamiento:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"released\",\n          value: input.released,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Rating:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"rating\",\n          value: input.rating,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Imagen:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"image\",\n          value: input.image,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Elige Genero/s:\", /*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: handleSelectGenre,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            disabled: true,\n            className: errors.genres && styles.danger,\n            children: \"Genres\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), allGenres.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: t.name,\n            children: t.name\n          }, t.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 3\n        }, this), !errors.genres ? null : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.error,\n          children: errors.genres\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Elige Plataforma/s:\", /*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: handleSelectPlatform,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Platforms\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 5\n          }, this), allPlatforms.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: t.platforms.map(t => t),\n            children: t.platforms.map(t => t)\n          }, t.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 4\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.crear,\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Crear\",\n          disabled: !!errors.name || !!errors.description || !!errors.genres || !!errors.platforms\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 4\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 3\n    }, this), input.genres.map(el => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [el, /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"x\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 3\n      }, this)]\n    }, el.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 1\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n}\n\n_s(VideogameCreate, \"SE6mQXRCS2yojfa8DtGKe1wSFx0=\", false, function () {\n  return [useDispatch, useHistory, useSelector, useSelector];\n});\n\n_c = VideogameCreate;\nexport default VideogameCreate;\n\nvar _c;\n\n$RefreshReg$(_c, \"VideogameCreate\");","map":{"version":3,"sources":["/Users/consudc/Documents/GitHub/PI VIDEOGAMES/PI-Videogames-main/client/src/components/VideogameCreate.js"],"names":["React","NavLink","styles","createVideogames","getGenres","getPlatforms","useDispatch","useSelector","useState","useEffect","useHistory","divStyle","backgroundImage","backgroundSize","position","backgroundPosition","width","height","VideogameCreate","dispatch","history","allGenres","state","genres","allPlatforms","platforms","errors","setErrors","input","setInput","name","description","image","rating","released","console","log","handleSubmit","e","preventDefault","alert","push","handleChange","target","value","validate","handleSelectGenre","handleSelectPlatform","btn","h1","form","danger","error","map","t","id","crear","el"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {NavLink} from \"react-router-dom\";\nimport styles from \"../components/VideogameCreate.module.css\"\nimport { createVideogames,getGenres, getPlatforms } from '../actions';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nconst divStyle = {\n  backgroundImage: `url(\"https://img.freepik.com/vector-gratis/fondo-transparente-videojuegos_6997-1230.jpg?w=2000\")`,\n  backgroundSize: \"cover\",\n  position:\"fixed\",\n  backgroundPosition: \"100% 100%\",\n  width: \"100vw\",\n  height: \"100vh\",\n};\n\n\nfunction VideogameCreate() {\n\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n\n  const allGenres = useSelector((state)=> state.genres)\n  const allPlatforms = useSelector((state)=> state.platforms)\n\n\n\n  const [errors, setErrors]= useState({})\n\n  const [input, setInput] = useState({\n    name : \"\",\n    description :\"\",\n    image: \"\",\n    rating: 1,\n    released: \"\",\n    genres: [],\n    platforms: []\n  })\nconsole.log(input)\n\n  useEffect (()=>{\n    dispatch(getGenres());\n  },[dispatch])\n\n  useEffect (()=>{\n    dispatch(getPlatforms());\n  },[dispatch])\n\n\n  function handleSubmit(e){\n    e.preventDefault()\n    dispatch(createVideogames(input))\n    alert(\"PERSONAJE CREADO CON EXITO\")\n    setInput({\n    name : \"\",\n    description :\"\",\n    image: \"\",\n    rating: 1,\n    released: \"\",\n    genres: [],\n    platforms: []\n    })\n    setErrors({})\n    history.push(\"/home\")\n//para que vuelva a la pagina anterior\n\n  }\n\n  function handleChange(e){\n    e.preventDefault()\n    //e.target.value = e.target.name\n    setInput({\n      ...input,\n      [e.target.name]: e.target.value\n    })\n    setErrors(validate({\n      ...input,\n      [e.target.name] : e.target.value}))\n}\n\n\n\nfunction handleSelectGenre(e){\n  setInput({\n    ...input,\n    genres: [...input.genres,e.target.value]\n\n\n  })\n}\n\nfunction handleSelectPlatform(e){\n  setInput({\n    ...input,\n    platforms: [...input.platforms, e.target.value]\n\n  })\n}\n\n// function handleDelete(el){\n//   el.preventDefault()\n//   setInput({\n//     ...input,\n//     genres : input.genres.filter((t) => t.el !== el)\n\n//   })\n// }\n\n// const handleonClose =(id) =>{\n//   setCities(oldCities => oldCities.filter((ciudad)=> ciudad.id !== id ))\n\n// }\n\n  return (\n    <div style={divStyle}>\n   {/* <div className={styles.root}>  */}\n\n  <NavLink to = \"/home\" exact >\n      <button className={styles.btn}>\n        HOME\n      </button>\n  </NavLink>\n  <h1 className={styles.h1}> CREA TU VIDEOJUEGO</h1>\n\n  <form className = {styles.form}  onSubmit={handleSubmit}>\n<div>\n  <label>Nombre: </label>\n<input\n\nclassName={errors.name && styles.danger}\n  type= \"text\"\n  name= \"name\"\n  value={input.name}\n  onChange={handleChange}\n  />\n {!errors.name ? null : <div className={styles.error}>{errors.name}</div>}\n </div>\n<div>\n  <label> Descripci√≥n: </label>\n  <input\n    className={errors.description && styles.danger}\n    type=\"text\"\n    name=\"description\"\n    value={input.description}\n    onChange={handleChange}\n    />\n   {!errors.description ? null : <p className={styles.error}>{errors.description}</p>}\n\n  </div>\n  <div>\n  <label>Fecha de lanzamiento:</label>\n  <input type=\"text\"\n    name=\"released\"\n    value={input.released}\n    onChange={handleChange}\n    />\n\n  </div>\n  <div>\n  <label>\n    Rating:</label>\n    <input type=\"text\"\n    name=\"rating\"\n    value={input.rating}\n    onChange={handleChange}/>\n  </div>\n  <div>\n  <label>\n    Imagen:</label>\n    <input type=\"text\"\n    name=\"image\"\n    value={input.image}\n    onChange={handleChange} />\n  </div>\n\n   {/* esto es para hacer un checkbox */}\n        {/* <div>\n        <label>Genres: </label>\n        <input\n        type= \"checkbox\"\n        value= {input.genres.map(t=>t)}\n        name= \"genres\"\n        onChange={handleChange}/>\n         </div>\n          */}\n\n<div>\nElige Genero/s:\n  <select onChange={handleSelectGenre}>\n            <option value=\"\" disabled={true} className={errors.genres && styles.danger}>Genres</option>\n\n            {allGenres.map((t)=>(\n              <option key={t.id} value={t.name}>{t.name}</option>\n               ))}\n  </select>\n  {!errors.genres ? null : <p className={styles.error}>{errors.genres}</p>}\n  </div>\n\n    {/* <ul>  <a>{input.genres.map((t)=> ( t + \" , \"))}</a>\n          </ul>  */}\n\n<div>\n\nElige Plataforma/s:\n   <select onChange={handleSelectPlatform}>\n    <option value=\"\">Platforms</option>\n      {allPlatforms.map((t)=>(\n\n              <option key={t.id} value={t.platforms.map(t=>t)}>{t.platforms.map(t=>t)}</option>\n\n                 ))}\n          </select>\n</div>\n\n<div className={styles.crear}>\n   <input type=\"submit\" value=\"Crear\" disabled={!!errors.name || !!errors.description || !!errors.genres || !!errors.platforms}></input>\n   </div>\n  </form>\n\n  { input.genres.map((el) =>\n<div key= {el.id}>\n  {el} \n  <input type=\"submit\" value = \"x\" ></input> \n</div>\n)}\n\n</div>\n  )\n}\n\nexport default VideogameCreate"]},"metadata":{},"sourceType":"module"}