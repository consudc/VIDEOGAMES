{"ast":null,"code":"import { GET_GAME_BYNAME, GET_GENRE, GET_GAME_DETAIL, GET_VIDEOGAME, ORDER_NAME, ORDER_RATING, FILTER_CREATED, FILTER_GENRE, GET_PLATFORMS, CREATE_VIDEOGAMES } from \"./types\"; // EL REDUCER SIEMPRE TIENE QUE GENERAR UN NUEVO ESTADO, ESTE ES EL ESTADO GLOBAL!!! osea cuando se modifique algo\n//esto puede ser tmb un objeto, o un array que contenga los objetos\n\nconst initialState = {\n  allVideogames: [],\n  videogames: [],\n  genres: [],\n  platforms: []\n}; // aca el estado es el estado inicial y luego el otro parametro es la action pero hago destructuring {type, payload}\n\nfunction reducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let {\n    payload,\n    type\n  } = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (type) {\n    case GET_VIDEOGAME:\n      return { ...state,\n        allVideogames: payload,\n        videogames: payload\n      };\n\n    case FILTER_GENRE:\n      const allGames = state.allVideogames; //(en este caso el payload va a ser el value del select)\n      // si el value o el payload es igual a All que me traiga todos los videogames\n\n      const genreFiltered = payload === \"All\" ? allPokemons : allPokemons.filter(el => el.types.includes(action.payload)); // if (el.types.length === 1){ \n      // return el.types.includes(action.payload)}\n      // else if (el.types.length === 2){\n      // return el.types[0].includes(action.payload) ||\n      // el.types[1].includes(action.payload)\n      // }\n      // else {\n      //   return null\n      // }\n      // })\n\n      console.log(typeFiltered);\n      return { ...state,\n        pokemons: typeFiltered\n      };\n\n    case FILTER_CREATED:\n      const pokemosFilCreated = state.allPokemons;\n      const createdFiltered = action.payload === \"creado\" ? pokemosFilCreated.filter(el => el.createdInDb) : pokemosFilCreated.filter(el => !el.createdInDb);\n      return { ...state,\n        pokemons: action.payload === \"all\" ? pokemosFilCreated : createdFiltered\n      };\n\n    case GET_POK_BYNAME:\n      return { ...state,\n        pokemons: action.payload\n      };\n\n    case CREATE_POKEMON:\n      return { ...state\n      };\n\n    case GET_TYPES:\n      return { ...state,\n        types: action.payload\n      };\n    //     case REMOVE_POKEMON :\n    //         //aca lo que hace es un nuevo array que contenga todos los contactos con id diferentes al payload\n    //         return state.filter (c => c.id !== payload)\n    //     case ADD_POKEMON: \n    //     //aca nescito crear otro array!!!\n    //     return state.map((contact) => {\n    //         if (contact.id === payload){\n    //             //si mapeando el state encuentra el id del contacto que se pasa por payload, crea un nuevo objeto, copiando la info anterior y pasando el fav en true\n    //         return {...contact, fav : true}\n    //         // en caso que no lo encuntre simeplemnte hace una copia del objeto anterior\n    //     } return {...contact}\n    // })\n\n    case ORDER_NAME:\n      const pokemosOrder = state.pokemons;\n      const orderAlph = action.payload === \"asc\" ? pokemosOrder.sort(function (a, b) {\n        if (a.name > b.name) {\n          return 1;\n        }\n\n        if (b.name > a.name) {\n          return -1;\n        } else return 0;\n      }) : pokemosOrder.sort(function (a, b) {\n        if (a.name > b.name) {\n          return -1;\n        }\n\n        if (b.name > a.name) {\n          return 1;\n        } else return 0;\n      });\n      console.log(state);\n      return { ...state,\n        pokemons: orderAlph\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport default reducer;","map":{"version":3,"sources":["/Users/consudc/Documents/GitHub/PI VIDEOGAMES/PI-Videogames-main/client/src/reducer/index.js"],"names":["GET_GAME_BYNAME","GET_GENRE","GET_GAME_DETAIL","GET_VIDEOGAME","ORDER_NAME","ORDER_RATING","FILTER_CREATED","FILTER_GENRE","GET_PLATFORMS","CREATE_VIDEOGAMES","initialState","allVideogames","videogames","genres","platforms","reducer","state","payload","type","allGames","genreFiltered","allPokemons","filter","el","types","includes","action","console","log","typeFiltered","pokemons","pokemosFilCreated","createdFiltered","createdInDb","GET_POK_BYNAME","CREATE_POKEMON","GET_TYPES","pokemosOrder","orderAlph","sort","a","b","name"],"mappings":"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","sourcesContent":["import {GET_GAME_BYNAME, GET_GENRE, GET_GAME_DETAIL, GET_VIDEOGAME, ORDER_NAME, ORDER_RATING, FILTER_CREATED, FILTER_GENRE, GET_PLATFORMS, CREATE_VIDEOGAMES} from \"./types\"\n\n\n// EL REDUCER SIEMPRE TIENE QUE GENERAR UN NUEVO ESTADO, ESTE ES EL ESTADO GLOBAL!!! osea cuando se modifique algo\n//esto puede ser tmb un objeto, o un array que contenga los objetos\nconst initialState = {\n    allVideogames : [],\n    videogames: [],\n    genres: [],\n    platforms:[]\n\n}\n\n\n\n// aca el estado es el estado inicial y luego el otro parametro es la action pero hago destructuring {type, payload}\nfunction reducer (state = initialState, {payload, type}){\n    switch (type){\n        \n        case GET_VIDEOGAME : \n\n            return {\n                ...state,\n                allVideogames: payload,\n                videogames: payload,\n                  \n            }\n\n\n        case FILTER_GENRE : \n\n        const allGames = state.allVideogames\n        \n        //(en este caso el payload va a ser el value del select)\n        // si el value o el payload es igual a All que me traiga todos los videogames\n\n        \n        const genreFiltered = payload === \"All\"? allPokemons: \n        \n        allPokemons.filter((el) => \n        el.types.includes(action.payload))\n        \n\n        // if (el.types.length === 1){ \n        // return el.types.includes(action.payload)}\n\n        // else if (el.types.length === 2){\n        // return el.types[0].includes(action.payload) ||\n        // el.types[1].includes(action.payload)\n        \n        // }\n        // else {\n        //   return null\n        // }\n    // })\n\n    console.log(typeFiltered)\n        return {\n            ...state,\n            pokemons: typeFiltered\n        }\n\n    case FILTER_CREATED :\n\n    const pokemosFilCreated = state.allPokemons\n\n    const createdFiltered = action.payload === \"creado\"? pokemosFilCreated.filter((el) =>el.createdInDb) : \n\n    pokemosFilCreated.filter((el) =>!el.createdInDb)\n\n    return{\n        ...state,\n        pokemons: action.payload ===\"all\"? pokemosFilCreated :createdFiltered\n    }\n\n    case GET_POK_BYNAME :\n        \n        \n        return{\n            ...state,\n            pokemons: action.payload \n        }\n\n    case CREATE_POKEMON :\n        \n            return{\n                ...state,\n            }\n\n    case GET_TYPES:\n        return{\n        ...state,\n        types: action.payload \n                }\n\n    \n       \n   \n\n\n\n    \n\n    //     case REMOVE_POKEMON :\n    //         //aca lo que hace es un nuevo array que contenga todos los contactos con id diferentes al payload\n\n    //         return state.filter (c => c.id !== payload)\n    //     case ADD_POKEMON: \n\n    //     //aca nescito crear otro array!!!\n\n    //     return state.map((contact) => {\n            \n    //         if (contact.id === payload){\n\n    //             //si mapeando el state encuentra el id del contacto que se pasa por payload, crea un nuevo objeto, copiando la info anterior y pasando el fav en true\n    //         return {...contact, fav : true}\n\n    //         // en caso que no lo encuntre simeplemnte hace una copia del objeto anterior\n    //     } return {...contact}\n    \n    // })\n        \n    case ORDER_NAME : \n\n    const pokemosOrder = state.pokemons\n\n    const orderAlph = action.payload === \"asc\"? \n    \n    pokemosOrder.sort(function(a, b){\n        if (a.name > b.name){\n        return 1}\n        if (b.name > a.name){\n            return -1}\n        else return 0\n    })\n     : pokemosOrder.sort(function(a, b){\n        if (a.name > b.name){\n        return -1}\n        if (b.name > a.name){\n            return 1}\n        else return 0\n    })\n    console.log(state)\n\n    return{\n        ...state,\n        pokemons: orderAlph\n    }\n\n     \n        default : \n        return state;\n    }\n\n}\n\n\nexport default reducer;"]},"metadata":{},"sourceType":"module"}