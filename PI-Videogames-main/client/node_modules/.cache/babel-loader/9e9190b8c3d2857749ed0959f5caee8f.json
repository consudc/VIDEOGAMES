{"ast":null,"code":"import { GET_GAME_BYNAME, GET_GENRE, GET_GAME_DETAIL, GET_VIDEOGAME, ORDER_NAME, ORDER_RATING, FILTER_CREATED, FILTER_GENRE, GET_PLATFORMS, CREATE_VIDEOGAMES } from \"./types\"; // EL REDUCER SIEMPRE TIENE QUE GENERAR UN NUEVO ESTADO, ESTE ES EL ESTADO GLOBA!!! osea cuando se modifique algo\n//esto puede ser tmb un objeto, o un array que contenga los objetos\n\nconst initialState = {\n  allVideogames: [],\n  videogames: [],\n  genres: [],\n  platforms: []\n}; // aca el estado es el estado inicial y luego el otro parametro es la action pero hago destructuring {type, payload}\n\nfunction reducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let {\n    payload,\n    type\n  } = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (type) {\n    case GET_VIDEOGAME:\n      return { ...state,\n        allVideogames: payload,\n        videogames: payload\n      };\n\n    case FILTER_TYPE:\n      const allPokemons = state.allPokemons; //(en este caso el payload va a ser el value del select)\n      // si el value o el payload es igual a All que me traiga todos los pokemons\n\n      const typeFiltered = action.payload === \"All\" ? allPokemons : allPokemons.filter(el => el.types.includes(action.payload)); // if (el.types.length === 1){ \n      // return el.types.includes(action.payload)}\n      // else if (el.types.length === 2){\n      // return el.types[0].includes(action.payload) ||\n      // el.types[1].includes(action.payload)\n      // }\n      // else {\n      //   return null\n      // }\n      // })\n\n      console.log(typeFiltered);\n      return { ...state,\n        pokemons: typeFiltered\n      };\n\n    case FILTER_CREATED:\n      const pokemosFilCreated = state.allPokemons;\n      const createdFiltered = action.payload === \"creado\" ? pokemosFilCreated.filter(el => el.createdInDb) : pokemosFilCreated.filter(el => !el.createdInDb);\n      return { ...state,\n        pokemons: action.payload === \"all\" ? pokemosFilCreated : createdFiltered\n      };\n\n    case GET_POK_BYNAME:\n      return { ...state,\n        pokemons: action.payload\n      };\n\n    case CREATE_POKEMON:\n      return { ...state\n      };\n\n    case GET_TYPES:\n      return { ...state,\n        types: action.payload\n      };\n    //     case REMOVE_POKEMON :\n    //         //aca lo que hace es un nuevo array que contenga todos los contactos con id diferentes al payload\n    //         return state.filter (c => c.id !== payload)\n    //     case ADD_POKEMON: \n    //     //aca nescito crear otro array!!!\n    //     return state.map((contact) => {\n    //         if (contact.id === payload){\n    //             //si mapeando el state encuentra el id del contacto que se pasa por payload, crea un nuevo objeto, copiando la info anterior y pasando el fav en true\n    //         return {...contact, fav : true}\n    //         // en caso que no lo encuntre simeplemnte hace una copia del objeto anterior\n    //     } return {...contact}\n    // })\n\n    case ORDER_NAME:\n      const pokemosOrder = state.pokemons;\n      const orderAlph = action.payload === \"asc\" ? pokemosOrder.sort(function (a, b) {\n        if (a.name > b.name) {\n          return 1;\n        }\n\n        if (b.name > a.name) {\n          return -1;\n        } else return 0;\n      }) : pokemosOrder.sort(function (a, b) {\n        if (a.name > b.name) {\n          return -1;\n        }\n\n        if (b.name > a.name) {\n          return 1;\n        } else return 0;\n      });\n      console.log(state);\n      return { ...state,\n        pokemons: orderAlph\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport default reducer;","map":{"version":3,"sources":["/Users/consudc/Documents/GitHub/PI VIDEOGAMES/PI-Videogames-main/client/src/reducer/index.js"],"names":["GET_GAME_BYNAME","GET_GENRE","GET_GAME_DETAIL","GET_VIDEOGAME","ORDER_NAME","ORDER_RATING","FILTER_CREATED","FILTER_GENRE","GET_PLATFORMS","CREATE_VIDEOGAMES","initialState","allVideogames","videogames","genres","platforms","reducer","state","payload","type","FILTER_TYPE","allPokemons","typeFiltered","action","filter","el","types","includes","console","log","pokemons","pokemosFilCreated","createdFiltered","createdInDb","GET_POK_BYNAME","CREATE_POKEMON","GET_TYPES","pokemosOrder","orderAlph","sort","a","b","name"],"mappings":"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","sourcesContent":["import {GET_GAME_BYNAME, GET_GENRE, GET_GAME_DETAIL, GET_VIDEOGAME, ORDER_NAME, ORDER_RATING, FILTER_CREATED, FILTER_GENRE, GET_PLATFORMS, CREATE_VIDEOGAMES} from \"./types\"\n\n\n// EL REDUCER SIEMPRE TIENE QUE GENERAR UN NUEVO ESTADO, ESTE ES EL ESTADO GLOBA!!! osea cuando se modifique algo\n//esto puede ser tmb un objeto, o un array que contenga los objetos\nconst initialState = {\n    allVideogames : [],\n    videogames: [],\n    genres: [],\n    platforms:[]\n\n}\n\n\n\n// aca el estado es el estado inicial y luego el otro parametro es la action pero hago destructuring {type, payload}\nfunction reducer (state = initialState, {payload, type}){\n    switch (type){\n        \n        case GET_VIDEOGAME : \n\n            return {\n                ...state,\n                allVideogames: payload,\n                videogames: payload,\n                  \n            }\n\n\n        case FILTER_TYPE : \n\n        const allPokemons = state.allPokemons\n        \n        //(en este caso el payload va a ser el value del select)\n        // si el value o el payload es igual a All que me traiga todos los pokemons\n\n        \n        const typeFiltered = action.payload === \"All\"? allPokemons: \n        \n        allPokemons.filter((el) => \n        el.types.includes(action.payload))\n        \n\n        // if (el.types.length === 1){ \n        // return el.types.includes(action.payload)}\n\n        // else if (el.types.length === 2){\n        // return el.types[0].includes(action.payload) ||\n        // el.types[1].includes(action.payload)\n        \n        // }\n        // else {\n        //   return null\n        // }\n    // })\n\n    console.log(typeFiltered)\n        return {\n            ...state,\n            pokemons: typeFiltered\n        }\n\n    case FILTER_CREATED :\n\n    const pokemosFilCreated = state.allPokemons\n\n    const createdFiltered = action.payload === \"creado\"? pokemosFilCreated.filter((el) =>el.createdInDb) : \n\n    pokemosFilCreated.filter((el) =>!el.createdInDb)\n\n    return{\n        ...state,\n        pokemons: action.payload ===\"all\"? pokemosFilCreated :createdFiltered\n    }\n\n    case GET_POK_BYNAME :\n        \n        \n        return{\n            ...state,\n            pokemons: action.payload \n        }\n\n    case CREATE_POKEMON :\n        \n            return{\n                ...state,\n            }\n\n    case GET_TYPES:\n        return{\n        ...state,\n        types: action.payload \n                }\n\n    \n       \n   \n\n\n\n    \n\n    //     case REMOVE_POKEMON :\n    //         //aca lo que hace es un nuevo array que contenga todos los contactos con id diferentes al payload\n\n    //         return state.filter (c => c.id !== payload)\n    //     case ADD_POKEMON: \n\n    //     //aca nescito crear otro array!!!\n\n    //     return state.map((contact) => {\n            \n    //         if (contact.id === payload){\n\n    //             //si mapeando el state encuentra el id del contacto que se pasa por payload, crea un nuevo objeto, copiando la info anterior y pasando el fav en true\n    //         return {...contact, fav : true}\n\n    //         // en caso que no lo encuntre simeplemnte hace una copia del objeto anterior\n    //     } return {...contact}\n    \n    // })\n        \n    case ORDER_NAME : \n\n    const pokemosOrder = state.pokemons\n\n    const orderAlph = action.payload === \"asc\"? \n    \n    pokemosOrder.sort(function(a, b){\n        if (a.name > b.name){\n        return 1}\n        if (b.name > a.name){\n            return -1}\n        else return 0\n    })\n     : pokemosOrder.sort(function(a, b){\n        if (a.name > b.name){\n        return -1}\n        if (b.name > a.name){\n            return 1}\n        else return 0\n    })\n    console.log(state)\n\n    return{\n        ...state,\n        pokemons: orderAlph\n    }\n\n     \n        default : \n        return state;\n    }\n\n}\n\n\nexport default reducer;"]},"metadata":{},"sourceType":"module"}