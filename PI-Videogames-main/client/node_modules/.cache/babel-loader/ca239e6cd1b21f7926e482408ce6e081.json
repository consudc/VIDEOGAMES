{"ast":null,"code":"import { GET_GAME_BYNAME, GET_GENRE, GET_GAME_DETAIL, GET_VIDEOGAME, ORDER_NAME, ORDER_RATING, FILTER_CREATED, FILTER_GENRE, GET_PLATFORMS, CREATE_VIDEOGAMES } from \"../actions/types\"; // EL REDUCER SIEMPRE TIENE QUE GENERAR UN NUEVO ESTADO, ESTE ES EL ESTADO GLOBAL!!! osea cuando se modifique algo\n\nconst initialState = {\n  allVideogames: [],\n  videogames: [],\n  genres: [],\n  platforms: [],\n  detail: []\n}; // aca el estado es el estado inicial y luego el otro parametro es la action pero hago destructuring {type, payload}\n\nfunction reducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let {\n    payload,\n    type\n  } = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (type) {\n    case GET_VIDEOGAME:\n      return { ...state,\n        allVideogames: payload,\n        videogames: payload\n      };\n\n    case FILTER_GENRE:\n      const allGames = state.allVideogames; //(en este caso el payload va a ser el value del select)\n      // si el value o el payload es igual a All que me traiga todos los videogames\n\n      const genreFiltered = payload === \"all\" ? allGames : allGames.filter(el => el.genres.includes(payload));\n      return { ...state,\n        videogames: genreFiltered\n      };\n    // esto es para no pisar el estado general \n\n    case FILTER_CREATED:\n      const gamesCreated = state.allVideogames;\n      const createdFiltered = payload === \"creado\" ? gamesCreated.filter(el => el.createdInDb) : gamesCreated.filter(el => !el.createdInDb);\n      return { ...state,\n        videogames: payload === \"all\" ? gamesCreated : createdFiltered\n      };\n    //si es \"all\" que me traiga todo, osea el state.allVideogames, sino que me traiga la funcion createdFiltered donde hace el condicional, que si selecciona \"creado\" busca si existe  en la base de datos (que es el creado por el usuario) o si no es eso que te traiga lo existente\n\n    case GET_GAME_BYNAME:\n      return { ...state,\n        videogames: payload\n      };\n\n    case GET_GAME_DETAIL:\n      return { ...state,\n        detail: payload\n      };\n\n    case CREATE_VIDEOGAMES:\n      return { ...state\n      };\n\n    case GET_GENRE:\n      return { ...state,\n        genres: payload\n      };\n\n    case GET_PLATFORMS:\n      return { ...state,\n        platforms: payload\n      };\n\n    case ORDER_NAME:\n      const nameOrder = state.allVideogames;\n      const orderAlph = payload === \"asc\" ? nameOrder.sort(function (a, b) {\n        if (a.name > b.name) {\n          return 1;\n        }\n\n        if (b.name > a.name) {\n          return -1;\n        } else return 0;\n      }) : nameOrder.sort(function (a, b) {\n        if (a.name > b.name) {\n          return -1;\n        }\n\n        if (b.name > a.name) {\n          return 1;\n        } else return 0;\n      });\n      return { ...state,\n        videogames: payload === \"all\" ? nameOrder : orderAlph\n      };\n\n    case ORDER_RATING:\n      const ratingOrder = state.allVideogames;\n\n      const orderRat = () => {\n        if (payload === \"ascR\") {\n          ratingOrder.sort(function (a, b) {\n            if (a.rating > b.rating) {\n              return 1;\n            }\n\n            if (b.rating > a.rating) {\n              return -1;\n            } else return 0;\n          });\n        } else if (payload === \"descR\") {\n          ratingOrder.sort(function (a, b) {\n            if (a.rating > b.rating) {\n              return -1;\n            }\n\n            if (b.rating > a.rating) {\n              return 1;\n            } else return 0;\n          });\n        }\n      }; // console.log(state)\n\n\n      return { ...state,\n        videogames: payload === \"all\" ? ratingOrder : orderRat\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport default reducer;","map":{"version":3,"sources":["/Users/consudc/Documents/GitHub/PI VIDEOGAMES/PI-Videogames-main/client/src/reducer/index.js"],"names":["GET_GAME_BYNAME","GET_GENRE","GET_GAME_DETAIL","GET_VIDEOGAME","ORDER_NAME","ORDER_RATING","FILTER_CREATED","FILTER_GENRE","GET_PLATFORMS","CREATE_VIDEOGAMES","initialState","allVideogames","videogames","genres","platforms","detail","reducer","state","payload","type","allGames","genreFiltered","filter","el","includes","gamesCreated","createdFiltered","createdInDb","nameOrder","orderAlph","sort","a","b","name","ratingOrder","orderRat","rating"],"mappings":"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","sourcesContent":["\nimport {GET_GAME_BYNAME, GET_GENRE, GET_GAME_DETAIL, GET_VIDEOGAME, ORDER_NAME, ORDER_RATING, FILTER_CREATED, FILTER_GENRE, GET_PLATFORMS, CREATE_VIDEOGAMES} from \"../actions/types\"\n\n\n// EL REDUCER SIEMPRE TIENE QUE GENERAR UN NUEVO ESTADO, ESTE ES EL ESTADO GLOBAL!!! osea cuando se modifique algo\n\nconst initialState = {\n    allVideogames : [],\n    videogames: [],\n    genres: [],\n    platforms: [],\n    detail :[]\n}\n\n\n// aca el estado es el estado inicial y luego el otro parametro es la action pero hago destructuring {type, payload}\nfunction reducer (state = initialState, {payload, type}){\n    switch (type){\n        \n        case GET_VIDEOGAME : \n\n            return {\n                ...state,\n                allVideogames: payload,\n                videogames: payload,\n                  \n            }\n\n        case FILTER_GENRE : \n\n        const allGames = state.allVideogames\n        \n        //(en este caso el payload va a ser el value del select)\n        // si el value o el payload es igual a All que me traiga todos los videogames\n\n       const genreFiltered = payload === \"all\"? allGames: \n        \n        allGames.filter((el) => \n        el.genres.includes(payload))\n        \n  \n        return {\n            ...state,\n            videogames: genreFiltered\n        }\n// esto es para no pisar el estado general \n    case FILTER_CREATED :\n\n    const gamesCreated = state.allVideogames\n\n    const createdFiltered = payload === \"creado\"? gamesCreated.filter((el) =>el.createdInDb) : \n\n    gamesCreated.filter((el) =>!el.createdInDb)\n\n    return{\n        ...state,\n        videogames: payload === \"all\"? gamesCreated :createdFiltered\n    }\n    //si es \"all\" que me traiga todo, osea el state.allVideogames, sino que me traiga la funcion createdFiltered donde hace el condicional, que si selecciona \"creado\" busca si existe  en la base de datos (que es el creado por el usuario) o si no es eso que te traiga lo existente\n\n    \n    case GET_GAME_BYNAME :\n \n       return{\n            ...state,\n           videogames:payload\n        }\n\n    case GET_GAME_DETAIL :\n        \n            return{\n                ...state,\n               detail: payload \n            }\n\n    case CREATE_VIDEOGAMES :\n            return{\n                ...state,\n            }\n\n    case GET_GENRE:\n        return{\n        ...state,\n        genres: payload \n                }\n    case GET_PLATFORMS:\n        return{\n        ...state,\n        platforms: payload \n        }\n               \n    case ORDER_NAME : \n\n    const nameOrder = state.allVideogames\n\n    const orderAlph = payload === \"asc\"? \n    \n    nameOrder.sort(function(a, b){\n        if (a.name > b.name){\n        return 1}\n        if (b.name > a.name){\n            return -1}\n        else return 0\n    })\n     : nameOrder.sort(function(a, b){\n        if (a.name > b.name){\n        return -1}\n        if (b.name > a.name){\n            return 1}\n        else return 0\n    })\n \n\n    return{\n        ...state,\n        videogames: payload === \"all\"? nameOrder: orderAlph\n    }\n\n    case ORDER_RATING : \n\n    const ratingOrder = state.allVideogames\n\n\n\n    const orderRat = () => {\n        \n    if (payload === \"ascR\") {\n            ratingOrder.sort(function(a, b){\n                if (a.rating > b.rating){\n                return 1}\n                if (b.rating > a.rating){\n                    return -1}\n                else return 0})}\n\n    else if (payload === \"descR\") {\n    ratingOrder.sort(function(a, b){\n        if (a.rating > b.rating){\n        return -1}\n        if (b.rating > a.rating){\n            return 1}\n        else return 0})}\n        }\n    // console.log(state)\n\n    return{\n        ...state,\n        videogames:  payload === \"all\"? ratingOrder :orderRat\n    }\n\n     \n        default : \n        return state;\n    }\n\n}\n\n\nexport default reducer;"]},"metadata":{},"sourceType":"module"}