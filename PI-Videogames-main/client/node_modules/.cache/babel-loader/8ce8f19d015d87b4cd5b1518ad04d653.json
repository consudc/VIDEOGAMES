{"ast":null,"code":"var _jsxFileName = \"/Users/consudc/Documents/GitHub/PI VIDEOGAMES/PI-Videogames-main/client/src/components/VideogameCreate.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { NavLink } from \"react-router-dom\";\nimport styles from \"../components/VideogameCreate.module.css\";\nimport { createVideogames, getGenres, getPlatforms } from '../actions';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst divStyle = {\n  backgroundImage: `url(https://i0.wp.com/wallpapersfortech.com/wp-content/uploads/2021/07/Gaming-PC-Wallpaper-HD.png?fit=3840%2C2160&ssl=1)`,\n  backgroundSize: \"cover\",\n  position: \"fixed\",\n  backgroundPosition: \"100% 100%\",\n  width: \"100vw\",\n  height: \"100vh\"\n}; // esta function validate recibe un input (lo que escribimos dentro de cada input)\n\nfunction validate(input) {\n  let errors = {};\n\n  if (!input.name) {\n    errors.name = \"Se requiere un Nombre\";\n  } else if (!input.description) {\n    errors.description = \"Se requiere una Descripción\";\n  } else if (!input.platforms) {\n    errors.platforms = \"Se requiere al menos una Plataforma\";\n  } else if (!input.genres) {\n    errors.genres = \"Se requiere al menos un genero\";\n  } else if (input.rating > 5 || input.rating <= 0) {\n    errors.rating = \"Se requiere un valor entre 0 y 5\";\n  }\n\n  return errors;\n}\n\nfunction VideogameCreate() {\n  _s();\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const allGenres = useSelector(state => state.genres);\n  console.log(allGenres);\n  const allPlatforms = useSelector(state => state.platforms);\n  const platformsList = Array.from(new Set(allPlatforms.map(el => el.platforms).flatMap(x => x)));\n  const [errors, setErrors] = useState({});\n  const [input, setInput] = useState({\n    name: \"\",\n    description: \"\",\n    image: \"\",\n    rating: 0,\n    released: \"\",\n    genres: [],\n    platforms: []\n  });\n  console.log(input);\n  useEffect(() => {\n    dispatch(getGenres());\n  }, [dispatch]);\n  useEffect(() => {\n    dispatch(getPlatforms());\n  }, [dispatch]);\n  const nombreValido = /^[a-zA-Z ]*$/;\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    if (Object.values(errors).length > 0) {\n      alert(\"Por favor complete la información requerida\");\n    } else if (input.name === \"\" || input.name.length > 20 || !nombreValido.test(input.name)) {\n      alert(\"El nombre es obligatorio, solo puede llevar letras y su largo debe ser menor a 20\");\n    } else if (!input.genres.length) {\n      alert(\"Se requiere al menos un Genero\");\n    } else if (!input.platforms.length) {\n      alert(\"Se requiere al menos una Plataforma\");\n    } else {\n      dispatch(createVideogames(input));\n      alert(\"VIDEOGAME CREADO CON EXITO\");\n      setInput({\n        name: \"\",\n        description: \"\",\n        image: \"\",\n        rating: 0,\n        released: \"\",\n        genres: [],\n        platforms: []\n      });\n      setErrors({});\n      history.push(\"/home\"); //para que vuelva a la pagina anterior\n    }\n  }\n\n  function handleChange(e) {\n    e.preventDefault();\n    setInput({ ...input,\n      [e.target.name]: e.target.value\n    });\n    setErrors(validate({ ...input,\n      [e.target.name]: e.target.value\n    }));\n  }\n\n  function handleSelectGenre(e) {\n    setInput({ ...input,\n      genres: [...input.genres, e.target.value]\n    });\n  }\n\n  function handleSelectPlatform(e) {\n    setInput({ ...input,\n      platforms: [...input.platforms, e.target.value]\n    });\n  }\n\n  function handleDelete(el) {\n    setInput({ ...input,\n      genres: input.genres.filter(t => t !== el),\n      platforms: input.platforms.filter(t => t !== el)\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: divStyle,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles,\n      children: [/*#__PURE__*/_jsxDEV(NavLink, {\n        to: \"/home\",\n        exact: true,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://media3.giphy.com/media/FtTfX6RsPPExhjuymq/200w.webp?cid=790b7611xrpo8f8qrk4vpjooq62pednxs5al5vaa2muy2lv4&rid=200w.webp&ct=s\",\n          alt: \"Img not found\",\n          className: styles.btn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: styles.h1,\n        children: \" CREA TU VIDEOJUEGO\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: styles.contenedor,\n        onSubmit: e => handleSubmit(e),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.form,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.input,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"NOMBRE *: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 3\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 3\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: errors.name && styles.danger,\n              type: \"text\",\n              name: \"name\",\n              value: input.name,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: !errors.name ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.error,\n                children: errors.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 2\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.input,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"DESCRIPCI\\xD3N *: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 3\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: errors.description && styles.danger,\n              type: \"text\",\n              name: \"description\",\n              value: input.description,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 3\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: !errors.description ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.error,\n                children: errors.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 34\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.input,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.label,\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"FECHA LANZAMIENTO: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 3\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 3\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: styles.selectReleased,\n              type: \"date\",\n              name: \"released\",\n              value: input.released,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 3\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.input,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"RATING: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 3\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 3\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              name: \"rating\",\n              value: input.rating,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 5\n            }, this), !errors.rating ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.error,\n              children: errors.rating\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.input,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"IMAGEN: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 3\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 3\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"image\",\n              value: input.image,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.input,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"GENERO/S *: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 3\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: styles.select,\n              onChange: handleSelectGenre,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                disabled: true,\n                className: errors.genres && styles.danger,\n                children: \"Genres\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 13\n              }, this), allGenres.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: t.name,\n                children: t.name\n              }, t.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 15\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 3\n            }, this), !errors.genres ? null : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: styles.error,\n              children: errors.genres\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 28\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 1\n          }, this), input.genres.map((el, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.option,\n            children: [el, /*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.x,\n              type: \"button\",\n              onClick: () => handleDelete(el),\n              children: \"X\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.input,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"PLATAFORMA/S *: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 3\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: styles.selectPlat,\n              onChange: handleSelectPlatform,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                disabled: true,\n                children: \"Platforms\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 5\n              }, this), platformsList.map((t, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                className: styles.option,\n                value: t,\n                children: t\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 1\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 4\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 1\n          }, this), input.platforms.map((el, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.option,\n            children: [el, /*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.x,\n              type: \"button\",\n              onClick: () => handleDelete(el),\n              children: \"X\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 15\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: styles.crear,\n            type: \"submit\",\n            value: \"CREAR\",\n            disabled: errors.genres || errors.platforms\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 4\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 1\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 2\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 3\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 161,\n    columnNumber: 5\n  }, this);\n}\n\n_s(VideogameCreate, \"fU3XM0a7+OqKfaDZUafVER0ti14=\", false, function () {\n  return [useDispatch, useHistory, useSelector, useSelector];\n});\n\n_c = VideogameCreate;\nexport default VideogameCreate;\n\nvar _c;\n\n$RefreshReg$(_c, \"VideogameCreate\");","map":{"version":3,"sources":["/Users/consudc/Documents/GitHub/PI VIDEOGAMES/PI-Videogames-main/client/src/components/VideogameCreate.js"],"names":["React","NavLink","styles","createVideogames","getGenres","getPlatforms","useDispatch","useSelector","useState","useEffect","useHistory","divStyle","backgroundImage","backgroundSize","position","backgroundPosition","width","height","validate","input","errors","name","description","platforms","genres","rating","VideogameCreate","dispatch","history","allGenres","state","console","log","allPlatforms","platformsList","Array","from","Set","map","el","flatMap","x","setErrors","setInput","image","released","nombreValido","handleSubmit","e","preventDefault","Object","values","length","alert","test","push","handleChange","target","value","handleSelectGenre","handleSelectPlatform","handleDelete","filter","t","btn","h1","contenedor","form","danger","error","label","selectReleased","select","id","index","option","selectPlat","crear"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {NavLink} from \"react-router-dom\";\nimport styles from \"../components/VideogameCreate.module.css\"\nimport { createVideogames,getGenres, getPlatforms } from '../actions';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\n\n\nconst divStyle = {\n  backgroundImage: `url(https://i0.wp.com/wallpapersfortech.com/wp-content/uploads/2021/07/Gaming-PC-Wallpaper-HD.png?fit=3840%2C2160&ssl=1)`,\n  backgroundSize: \"cover\",\n  position:\"fixed\",\n  backgroundPosition: \"100% 100%\",\n  width: \"100vw\",\n  height: \"100vh\",\n  \n};\n\n\n// esta function validate recibe un input (lo que escribimos dentro de cada input)\nfunction validate (input){\n  let errors = {};\n  if (!input.name){\n    \n    errors.name = \"Se requiere un Nombre\"\n    \n  }\n  else if (!input.description){\n    errors.description = \"Se requiere una Descripción\"\n  }\n  else if (!input.platforms){\n    errors.platforms = \"Se requiere al menos una Plataforma\"\n  }\n  else if (!input.genres ){\n    errors.genres = \"Se requiere al menos un genero\"\n  }\n  else if (input.rating > 5 || input.rating <= 0) {\n    errors.rating = \"Se requiere un valor entre 0 y 5\";}\n  return errors\n}\n\n\nfunction VideogameCreate() {\n\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n\nconst allGenres = useSelector((state)=> state.genres)\n  console.log(allGenres)\n  \nconst allPlatforms = useSelector((state)=> state.platforms)\n\nconst platformsList = Array.from (new Set((allPlatforms.map((el)=>el.platforms)).flatMap(x => x)))\n\n\n  const [errors, setErrors]= useState({})\n\n  const [input, setInput] = useState({\n    name : \"\",\n    description :\"\",\n    image: \"\",\n    rating: 0,\n    released: \"\",\n    genres: [],\n    platforms: []\n  })\nconsole.log(input)\n\n  useEffect (()=>{\n    dispatch(getGenres());\n  },[dispatch])\n\n  useEffect (()=>{\n    dispatch(getPlatforms());\n  },[dispatch])\n\n  const nombreValido =/^[a-zA-Z ]*$/\n  \n async function handleSubmit(e){\n    e.preventDefault()\n    \n    if (Object.values(errors).length > 0) {\n        alert(\"Por favor complete la información requerida\");}\n\n     else if(\n      input.name === \"\"||\n        input.name.length > 20 ||\n        !nombreValido.test(input.name)\n      ){\n         alert(\"El nombre es obligatorio, solo puede llevar letras y su largo debe ser menor a 20\")\n       }\n      else if(\n        !input.genres.length \n      ) {\n        alert(\"Se requiere al menos un Genero\");}\n    else if (\n      !input.platforms.length\n      ) { alert(\"Se requiere al menos una Plataforma\");}\n     \n    else {\n      dispatch(createVideogames(input));\n    alert(\"VIDEOGAME CREADO CON EXITO\")\n    setInput({\n    name : \"\",\n    description :\"\",\n    image: \"\",\n    rating: 0,\n    released: \"\",\n    genres: [],\n    platforms: []\n    })\n    setErrors({})\n    history.push(\"/home\")\n//para que vuelva a la pagina anterior\n\n    }}\n\n  function handleChange(e){\n    e.preventDefault()\n   \n    setInput({\n      ...input,\n      [e.target.name]: e.target.value\n    })\n    setErrors(validate({\n      ...input,\n      [e.target.name] : e.target.value}))\n}\n\nfunction handleSelectGenre(e){\n  setInput({\n    ...input,\n    genres: [...input.genres,e.target.value]\n\n\n  })\n}\n\nfunction handleSelectPlatform(e){\n  setInput({\n    ...input,\n    platforms: [...input.platforms, e.target.value]\n\n  })\n}\n\nfunction handleDelete(el){\n\n  setInput({\n    ...input,\n    genres : input.genres.filter((t) => t !== el),\n    platforms: input.platforms.filter((t) => t !== el)\n\n  })\n}\n\n\n  return (\n    <div style={divStyle}>\n  \n  \n  <div className={styles}>\n\n\n  <NavLink to = \"/home\" exact >\n    <img src = {\"https://media3.giphy.com/media/FtTfX6RsPPExhjuymq/200w.webp?cid=790b7611xrpo8f8qrk4vpjooq62pednxs5al5vaa2muy2lv4&rid=200w.webp&ct=s\"} alt =\"Img not found\" className={styles.btn}/>\n  </NavLink>\n  \n  <h1 className={styles.h1}> CREA TU VIDEOJUEGO</h1>\n <form className = {styles.contenedor} onSubmit={(e) => handleSubmit(e)}>\n\n<div className = {styles.form}>\n<div className={styles.input} >\n  <div>\n  <label>NOMBRE *: </label>\n  </div>\n\n<input\nclassName={errors.name && styles.danger}\n  type= \"text\"\n  name= \"name\"\n  value={input.name}\n  onChange={handleChange}\n  />\n <div>\n {!errors.name ? null : <div className={styles.error}>{errors.name}</div>}\n </div>\n </div>\n\n<div className={styles.input}>\n<div>\n  <label>DESCRIPCIÓN *: </label>\n  </div>\n  <input\n    className={errors.description && styles.danger}\n    type=\"text\"\n    name=\"description\"\n    value={input.description}\n    onChange={handleChange}\n    />\n    <div>\n   {!errors.description ? null : <div className={styles.error}>{errors.description}</div>}\n   </div>\n  </div>\n  <div className={styles.input}>\n  <div className={styles.label}>\n  <label>FECHA LANZAMIENTO: </label>\n  </div>\n  <input \n  className={styles.selectReleased}\n    type=\"date\"\n    name=\"released\"\n    value={input.released}\n    onChange={handleChange}\n    />\n\n  </div>\n  <div className={styles.input}>\n  <div>\n  <label>RATING: </label>\n  </div>\n    <input type=\"number\"\n    name=\"rating\"\n    value={input.rating}\n    onChange={handleChange}/>\n\n{!errors.rating? null : <div className={styles.error}>{errors.rating}</div>}\n  </div>\n  <div className={styles.input}>\n  <div>\n  <label>IMAGEN: </label>\n  </div>\n    <input type=\"text\"\n    name=\"image\"\n    value={input.image}\n    onChange={handleChange} />\n  </div>\n\n<div className={styles.input}>\n<div>\n  <label>GENERO/S *: </label>\n  </div>\n  <select className={styles.select} onChange={handleSelectGenre}>\n   \n            <option value=\"\" disabled={true} className={errors.genres && styles.danger}>Genres</option>\n\n            {allGenres.map((t)=>(\n              <option key={t.id}  value={t.name}>{t.name}</option>\n               ))}\n\n  </select>\n\n\n  {!errors.genres ? null : <p className={styles.error}>{errors.genres}</p>}\n\n  </div>\n\n  {input.genres.map((el, index) => (\n            <div className={styles.option} key={index}>\n              {el}\n              <button className={styles.x}  type=\"button\" onClick={() => handleDelete(el)}>X</button>\n            </div>\n          ))}\n\n\n<div className={styles.input}>\n<div >\n  <label>PLATAFORMA/S *: </label>\n  </div>\n   <select className={styles.selectPlat}\n   onChange={handleSelectPlatform}>\n    <option value=\"\" disabled={true} >Platforms</option>\n      {platformsList.map((t, index)=>(\n\n<option key={index} className={styles.option} value={t}>{t}</option>\n))}\n          </select>\n</div>\n\n\n{input.platforms.map((el, index) => (\n            <div className={styles.option} key={index}>\n              {el}\n              <button className={styles.x} type=\"button\" onClick={() => handleDelete(el)}>X</button>\n            </div>\n          ))}\n\n</div>\n<div >\n   <input className={styles.crear} type=\"submit\" value=\"CREAR\" \n   disabled={errors.genres || errors.platforms}\n   ></input>\n   </div>\n  </form>\n\n  </div>\n  </div>\n\n  )\n}\n\nexport default VideogameCreate"]},"metadata":{},"sourceType":"module"}